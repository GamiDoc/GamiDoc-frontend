{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n(function () {\n  var DecodeStream,\n      EncodeStream,\n      iconv,\n      stream,\n      __hasProp = {}.hasOwnProperty,\n      __extends = function (child, parent) {\n    for (var key in parent) {\n      if (__hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  };\n\n  stream = require('stream');\n  DecodeStream = require('./DecodeStream');\n\n  try {\n    iconv = require('iconv-lite');\n  } catch (_error) {}\n\n  EncodeStream = function (_super) {\n    var key;\n\n    __extends(EncodeStream, _super);\n\n    function EncodeStream(bufferSize) {\n      if (bufferSize == null) {\n        bufferSize = 65536;\n      }\n\n      EncodeStream.__super__.constructor.apply(this, arguments);\n\n      this.buffer = new Buffer(bufferSize);\n      this.bufferOffset = 0;\n      this.pos = 0;\n    }\n\n    for (key in Buffer.prototype) {\n      if (key.slice(0, 5) === 'write') {\n        (function (key) {\n          var bytes;\n          bytes = +DecodeStream.TYPES[key.replace(/write|[BL]E/g, '')];\n          return EncodeStream.prototype[key] = function (value) {\n            this.ensure(bytes);\n            this.buffer[key](value, this.bufferOffset);\n            this.bufferOffset += bytes;\n            return this.pos += bytes;\n          };\n        })(key);\n      }\n    }\n\n    EncodeStream.prototype._read = function () {};\n\n    EncodeStream.prototype.ensure = function (bytes) {\n      if (this.bufferOffset + bytes > this.buffer.length) {\n        return this.flush();\n      }\n    };\n\n    EncodeStream.prototype.flush = function () {\n      if (this.bufferOffset > 0) {\n        this.push(new Buffer(this.buffer.slice(0, this.bufferOffset)));\n        return this.bufferOffset = 0;\n      }\n    };\n\n    EncodeStream.prototype.writeBuffer = function (buffer) {\n      this.flush();\n      this.push(buffer);\n      return this.pos += buffer.length;\n    };\n\n    EncodeStream.prototype.writeString = function (string, encoding) {\n      var buf, byte, i, _i, _ref;\n\n      if (encoding == null) {\n        encoding = 'ascii';\n      }\n\n      switch (encoding) {\n        case 'utf16le':\n        case 'ucs2':\n        case 'utf8':\n        case 'ascii':\n          return this.writeBuffer(new Buffer(string, encoding));\n\n        case 'utf16be':\n          buf = new Buffer(string, 'utf16le');\n\n          for (i = _i = 0, _ref = buf.length - 1; _i < _ref; i = _i += 2) {\n            byte = buf[i];\n            buf[i] = buf[i + 1];\n            buf[i + 1] = byte;\n          }\n\n          return this.writeBuffer(buf);\n\n        default:\n          if (iconv) {\n            return this.writeBuffer(iconv.encode(string, encoding));\n          } else {\n            throw new Error('Install iconv-lite to enable additional string encodings.');\n          }\n\n      }\n    };\n\n    EncodeStream.prototype.writeUInt24BE = function (val) {\n      this.ensure(3);\n      this.buffer[this.bufferOffset++] = val >>> 16 & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 8 & 0xff;\n      this.buffer[this.bufferOffset++] = val & 0xff;\n      return this.pos += 3;\n    };\n\n    EncodeStream.prototype.writeUInt24LE = function (val) {\n      this.ensure(3);\n      this.buffer[this.bufferOffset++] = val & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 8 & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 16 & 0xff;\n      return this.pos += 3;\n    };\n\n    EncodeStream.prototype.writeInt24BE = function (val) {\n      if (val >= 0) {\n        return this.writeUInt24BE(val);\n      } else {\n        return this.writeUInt24BE(val + 0xffffff + 1);\n      }\n    };\n\n    EncodeStream.prototype.writeInt24LE = function (val) {\n      if (val >= 0) {\n        return this.writeUInt24LE(val);\n      } else {\n        return this.writeUInt24LE(val + 0xffffff + 1);\n      }\n    };\n\n    EncodeStream.prototype.fill = function (val, length) {\n      var buf;\n\n      if (length < this.buffer.length) {\n        this.ensure(length);\n        this.buffer.fill(val, this.bufferOffset, this.bufferOffset + length);\n        this.bufferOffset += length;\n        return this.pos += length;\n      } else {\n        buf = new Buffer(length);\n        buf.fill(val);\n        return this.writeBuffer(buf);\n      }\n    };\n\n    EncodeStream.prototype.end = function () {\n      this.flush();\n      return this.push(null);\n    };\n\n    return EncodeStream;\n  }(stream.Readable);\n\n  module.exports = EncodeStream;\n}).call(this);","map":{"version":3,"names":["DecodeStream","EncodeStream","iconv","stream","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","constructor","prototype","__super__","require","_error","_super","bufferSize","apply","arguments","buffer","Buffer","bufferOffset","pos","slice","bytes","TYPES","replace","value","ensure","_read","length","flush","push","writeBuffer","writeString","string","encoding","buf","byte","i","_i","_ref","encode","Error","writeUInt24BE","val","writeUInt24LE","writeInt24BE","writeInt24LE","fill","end","Readable","module","exports"],"sources":["/home/carlobottaro/Documents/UniversitÃ /gamification/node_modules/restructure/src/EncodeStream.js"],"sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var DecodeStream, EncodeStream, iconv, stream,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  stream = require('stream');\n\n  DecodeStream = require('./DecodeStream');\n\n  try {\n    iconv = require('iconv-lite');\n  } catch (_error) {}\n\n  EncodeStream = (function(_super) {\n    var key;\n\n    __extends(EncodeStream, _super);\n\n    function EncodeStream(bufferSize) {\n      if (bufferSize == null) {\n        bufferSize = 65536;\n      }\n      EncodeStream.__super__.constructor.apply(this, arguments);\n      this.buffer = new Buffer(bufferSize);\n      this.bufferOffset = 0;\n      this.pos = 0;\n    }\n\n    for (key in Buffer.prototype) {\n      if (key.slice(0, 5) === 'write') {\n        (function(key) {\n          var bytes;\n          bytes = +DecodeStream.TYPES[key.replace(/write|[BL]E/g, '')];\n          return EncodeStream.prototype[key] = function(value) {\n            this.ensure(bytes);\n            this.buffer[key](value, this.bufferOffset);\n            this.bufferOffset += bytes;\n            return this.pos += bytes;\n          };\n        })(key);\n      }\n    }\n\n    EncodeStream.prototype._read = function() {};\n\n    EncodeStream.prototype.ensure = function(bytes) {\n      if (this.bufferOffset + bytes > this.buffer.length) {\n        return this.flush();\n      }\n    };\n\n    EncodeStream.prototype.flush = function() {\n      if (this.bufferOffset > 0) {\n        this.push(new Buffer(this.buffer.slice(0, this.bufferOffset)));\n        return this.bufferOffset = 0;\n      }\n    };\n\n    EncodeStream.prototype.writeBuffer = function(buffer) {\n      this.flush();\n      this.push(buffer);\n      return this.pos += buffer.length;\n    };\n\n    EncodeStream.prototype.writeString = function(string, encoding) {\n      var buf, byte, i, _i, _ref;\n      if (encoding == null) {\n        encoding = 'ascii';\n      }\n      switch (encoding) {\n        case 'utf16le':\n        case 'ucs2':\n        case 'utf8':\n        case 'ascii':\n          return this.writeBuffer(new Buffer(string, encoding));\n        case 'utf16be':\n          buf = new Buffer(string, 'utf16le');\n          for (i = _i = 0, _ref = buf.length - 1; _i < _ref; i = _i += 2) {\n            byte = buf[i];\n            buf[i] = buf[i + 1];\n            buf[i + 1] = byte;\n          }\n          return this.writeBuffer(buf);\n        default:\n          if (iconv) {\n            return this.writeBuffer(iconv.encode(string, encoding));\n          } else {\n            throw new Error('Install iconv-lite to enable additional string encodings.');\n          }\n      }\n    };\n\n    EncodeStream.prototype.writeUInt24BE = function(val) {\n      this.ensure(3);\n      this.buffer[this.bufferOffset++] = val >>> 16 & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 8 & 0xff;\n      this.buffer[this.bufferOffset++] = val & 0xff;\n      return this.pos += 3;\n    };\n\n    EncodeStream.prototype.writeUInt24LE = function(val) {\n      this.ensure(3);\n      this.buffer[this.bufferOffset++] = val & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 8 & 0xff;\n      this.buffer[this.bufferOffset++] = val >>> 16 & 0xff;\n      return this.pos += 3;\n    };\n\n    EncodeStream.prototype.writeInt24BE = function(val) {\n      if (val >= 0) {\n        return this.writeUInt24BE(val);\n      } else {\n        return this.writeUInt24BE(val + 0xffffff + 1);\n      }\n    };\n\n    EncodeStream.prototype.writeInt24LE = function(val) {\n      if (val >= 0) {\n        return this.writeUInt24LE(val);\n      } else {\n        return this.writeUInt24LE(val + 0xffffff + 1);\n      }\n    };\n\n    EncodeStream.prototype.fill = function(val, length) {\n      var buf;\n      if (length < this.buffer.length) {\n        this.ensure(length);\n        this.buffer.fill(val, this.bufferOffset, this.bufferOffset + length);\n        this.bufferOffset += length;\n        return this.pos += length;\n      } else {\n        buf = new Buffer(length);\n        buf.fill(val);\n        return this.writeBuffer(buf);\n      }\n    };\n\n    EncodeStream.prototype.end = function() {\n      this.flush();\n      return this.push(null);\n    };\n\n    return EncodeStream;\n\n  })(stream.Readable);\n\n  module.exports = EncodeStream;\n\n}).call(this);\n"],"mappings":"AAAA;AACA,CAAC,YAAW;EACV,IAAIA,YAAJ;EAAA,IAAkBC,YAAlB;EAAA,IAAgCC,KAAhC;EAAA,IAAuCC,MAAvC;EAAA,IACEC,SAAS,GAAG,GAAGC,cADjB;EAAA,IAEEC,SAAS,GAAG,UAASC,KAAT,EAAgBC,MAAhB,EAAwB;IAAE,KAAK,IAAIC,GAAT,IAAgBD,MAAhB,EAAwB;MAAE,IAAIJ,SAAS,CAACM,IAAV,CAAeF,MAAf,EAAuBC,GAAvB,CAAJ,EAAiCF,KAAK,CAACE,GAAD,CAAL,GAAaD,MAAM,CAACC,GAAD,CAAnB;IAA2B;;IAAC,SAASE,IAAT,GAAgB;MAAE,KAAKC,WAAL,GAAmBL,KAAnB;IAA2B;;IAACI,IAAI,CAACE,SAAL,GAAiBL,MAAM,CAACK,SAAxB;IAAmCN,KAAK,CAACM,SAAN,GAAkB,IAAIF,IAAJ,EAAlB;IAA8BJ,KAAK,CAACO,SAAN,GAAkBN,MAAM,CAACK,SAAzB;IAAoC,OAAON,KAAP;EAAe,CAFjS;;EAIAJ,MAAM,GAAGY,OAAO,CAAC,QAAD,CAAhB;EAEAf,YAAY,GAAGe,OAAO,CAAC,gBAAD,CAAtB;;EAEA,IAAI;IACFb,KAAK,GAAGa,OAAO,CAAC,YAAD,CAAf;EACD,CAFD,CAEE,OAAOC,MAAP,EAAe,CAAE;;EAEnBf,YAAY,GAAI,UAASgB,MAAT,EAAiB;IAC/B,IAAIR,GAAJ;;IAEAH,SAAS,CAACL,YAAD,EAAegB,MAAf,CAAT;;IAEA,SAAShB,YAAT,CAAsBiB,UAAtB,EAAkC;MAChC,IAAIA,UAAU,IAAI,IAAlB,EAAwB;QACtBA,UAAU,GAAG,KAAb;MACD;;MACDjB,YAAY,CAACa,SAAb,CAAuBF,WAAvB,CAAmCO,KAAnC,CAAyC,IAAzC,EAA+CC,SAA/C;;MACA,KAAKC,MAAL,GAAc,IAAIC,MAAJ,CAAWJ,UAAX,CAAd;MACA,KAAKK,YAAL,GAAoB,CAApB;MACA,KAAKC,GAAL,GAAW,CAAX;IACD;;IAED,KAAKf,GAAL,IAAYa,MAAM,CAACT,SAAnB,EAA8B;MAC5B,IAAIJ,GAAG,CAACgB,KAAJ,CAAU,CAAV,EAAa,CAAb,MAAoB,OAAxB,EAAiC;QAC/B,CAAC,UAAShB,GAAT,EAAc;UACb,IAAIiB,KAAJ;UACAA,KAAK,GAAG,CAAC1B,YAAY,CAAC2B,KAAb,CAAmBlB,GAAG,CAACmB,OAAJ,CAAY,cAAZ,EAA4B,EAA5B,CAAnB,CAAT;UACA,OAAO3B,YAAY,CAACY,SAAb,CAAuBJ,GAAvB,IAA8B,UAASoB,KAAT,EAAgB;YACnD,KAAKC,MAAL,CAAYJ,KAAZ;YACA,KAAKL,MAAL,CAAYZ,GAAZ,EAAiBoB,KAAjB,EAAwB,KAAKN,YAA7B;YACA,KAAKA,YAAL,IAAqBG,KAArB;YACA,OAAO,KAAKF,GAAL,IAAYE,KAAnB;UACD,CALD;QAMD,CATD,EASGjB,GATH;MAUD;IACF;;IAEDR,YAAY,CAACY,SAAb,CAAuBkB,KAAvB,GAA+B,YAAW,CAAE,CAA5C;;IAEA9B,YAAY,CAACY,SAAb,CAAuBiB,MAAvB,GAAgC,UAASJ,KAAT,EAAgB;MAC9C,IAAI,KAAKH,YAAL,GAAoBG,KAApB,GAA4B,KAAKL,MAAL,CAAYW,MAA5C,EAAoD;QAClD,OAAO,KAAKC,KAAL,EAAP;MACD;IACF,CAJD;;IAMAhC,YAAY,CAACY,SAAb,CAAuBoB,KAAvB,GAA+B,YAAW;MACxC,IAAI,KAAKV,YAAL,GAAoB,CAAxB,EAA2B;QACzB,KAAKW,IAAL,CAAU,IAAIZ,MAAJ,CAAW,KAAKD,MAAL,CAAYI,KAAZ,CAAkB,CAAlB,EAAqB,KAAKF,YAA1B,CAAX,CAAV;QACA,OAAO,KAAKA,YAAL,GAAoB,CAA3B;MACD;IACF,CALD;;IAOAtB,YAAY,CAACY,SAAb,CAAuBsB,WAAvB,GAAqC,UAASd,MAAT,EAAiB;MACpD,KAAKY,KAAL;MACA,KAAKC,IAAL,CAAUb,MAAV;MACA,OAAO,KAAKG,GAAL,IAAYH,MAAM,CAACW,MAA1B;IACD,CAJD;;IAMA/B,YAAY,CAACY,SAAb,CAAuBuB,WAAvB,GAAqC,UAASC,MAAT,EAAiBC,QAAjB,EAA2B;MAC9D,IAAIC,GAAJ,EAASC,IAAT,EAAeC,CAAf,EAAkBC,EAAlB,EAAsBC,IAAtB;;MACA,IAAIL,QAAQ,IAAI,IAAhB,EAAsB;QACpBA,QAAQ,GAAG,OAAX;MACD;;MACD,QAAQA,QAAR;QACE,KAAK,SAAL;QACA,KAAK,MAAL;QACA,KAAK,MAAL;QACA,KAAK,OAAL;UACE,OAAO,KAAKH,WAAL,CAAiB,IAAIb,MAAJ,CAAWe,MAAX,EAAmBC,QAAnB,CAAjB,CAAP;;QACF,KAAK,SAAL;UACEC,GAAG,GAAG,IAAIjB,MAAJ,CAAWe,MAAX,EAAmB,SAAnB,CAAN;;UACA,KAAKI,CAAC,GAAGC,EAAE,GAAG,CAAT,EAAYC,IAAI,GAAGJ,GAAG,CAACP,MAAJ,GAAa,CAArC,EAAwCU,EAAE,GAAGC,IAA7C,EAAmDF,CAAC,GAAGC,EAAE,IAAI,CAA7D,EAAgE;YAC9DF,IAAI,GAAGD,GAAG,CAACE,CAAD,CAAV;YACAF,GAAG,CAACE,CAAD,CAAH,GAASF,GAAG,CAACE,CAAC,GAAG,CAAL,CAAZ;YACAF,GAAG,CAACE,CAAC,GAAG,CAAL,CAAH,GAAaD,IAAb;UACD;;UACD,OAAO,KAAKL,WAAL,CAAiBI,GAAjB,CAAP;;QACF;UACE,IAAIrC,KAAJ,EAAW;YACT,OAAO,KAAKiC,WAAL,CAAiBjC,KAAK,CAAC0C,MAAN,CAAaP,MAAb,EAAqBC,QAArB,CAAjB,CAAP;UACD,CAFD,MAEO;YACL,MAAM,IAAIO,KAAJ,CAAU,2DAAV,CAAN;UACD;;MAnBL;IAqBD,CA1BD;;IA4BA5C,YAAY,CAACY,SAAb,CAAuBiC,aAAvB,GAAuC,UAASC,GAAT,EAAc;MACnD,KAAKjB,MAAL,CAAY,CAAZ;MACA,KAAKT,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,KAAK,EAAR,GAAa,IAAhD;MACA,KAAK1B,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,KAAK,CAAR,GAAY,IAA/C;MACA,KAAK1B,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,GAAG,IAAzC;MACA,OAAO,KAAKvB,GAAL,IAAY,CAAnB;IACD,CAND;;IAQAvB,YAAY,CAACY,SAAb,CAAuBmC,aAAvB,GAAuC,UAASD,GAAT,EAAc;MACnD,KAAKjB,MAAL,CAAY,CAAZ;MACA,KAAKT,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,GAAG,IAAzC;MACA,KAAK1B,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,KAAK,CAAR,GAAY,IAA/C;MACA,KAAK1B,MAAL,CAAY,KAAKE,YAAL,EAAZ,IAAmCwB,GAAG,KAAK,EAAR,GAAa,IAAhD;MACA,OAAO,KAAKvB,GAAL,IAAY,CAAnB;IACD,CAND;;IAQAvB,YAAY,CAACY,SAAb,CAAuBoC,YAAvB,GAAsC,UAASF,GAAT,EAAc;MAClD,IAAIA,GAAG,IAAI,CAAX,EAAc;QACZ,OAAO,KAAKD,aAAL,CAAmBC,GAAnB,CAAP;MACD,CAFD,MAEO;QACL,OAAO,KAAKD,aAAL,CAAmBC,GAAG,GAAG,QAAN,GAAiB,CAApC,CAAP;MACD;IACF,CAND;;IAQA9C,YAAY,CAACY,SAAb,CAAuBqC,YAAvB,GAAsC,UAASH,GAAT,EAAc;MAClD,IAAIA,GAAG,IAAI,CAAX,EAAc;QACZ,OAAO,KAAKC,aAAL,CAAmBD,GAAnB,CAAP;MACD,CAFD,MAEO;QACL,OAAO,KAAKC,aAAL,CAAmBD,GAAG,GAAG,QAAN,GAAiB,CAApC,CAAP;MACD;IACF,CAND;;IAQA9C,YAAY,CAACY,SAAb,CAAuBsC,IAAvB,GAA8B,UAASJ,GAAT,EAAcf,MAAd,EAAsB;MAClD,IAAIO,GAAJ;;MACA,IAAIP,MAAM,GAAG,KAAKX,MAAL,CAAYW,MAAzB,EAAiC;QAC/B,KAAKF,MAAL,CAAYE,MAAZ;QACA,KAAKX,MAAL,CAAY8B,IAAZ,CAAiBJ,GAAjB,EAAsB,KAAKxB,YAA3B,EAAyC,KAAKA,YAAL,GAAoBS,MAA7D;QACA,KAAKT,YAAL,IAAqBS,MAArB;QACA,OAAO,KAAKR,GAAL,IAAYQ,MAAnB;MACD,CALD,MAKO;QACLO,GAAG,GAAG,IAAIjB,MAAJ,CAAWU,MAAX,CAAN;QACAO,GAAG,CAACY,IAAJ,CAASJ,GAAT;QACA,OAAO,KAAKZ,WAAL,CAAiBI,GAAjB,CAAP;MACD;IACF,CAZD;;IAcAtC,YAAY,CAACY,SAAb,CAAuBuC,GAAvB,GAA6B,YAAW;MACtC,KAAKnB,KAAL;MACA,OAAO,KAAKC,IAAL,CAAU,IAAV,CAAP;IACD,CAHD;;IAKA,OAAOjC,YAAP;EAED,CApIc,CAoIZE,MAAM,CAACkD,QApIK,CAAf;;EAsIAC,MAAM,CAACC,OAAP,GAAiBtD,YAAjB;AAED,CArJD,EAqJGS,IArJH,CAqJQ,IArJR"},"metadata":{},"sourceType":"script"}