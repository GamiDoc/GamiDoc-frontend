{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _copy = _interopRequireDefault(require(\"../rect/copy\"));\n\nvar _crop = _interopRequireDefault(require(\"../rect/crop\"));\n\nvar _slice = _interopRequireDefault(require(\"../block/slice\"));\n\nvar _height = _interopRequireDefault(require(\"../block/height\"));\n\nvar _truncate = _interopRequireDefault(require(\"../block/truncate\"));\n\nvar _layoutParagraph = _interopRequireDefault(require(\"./layoutParagraph\"));\n\nvar _sliceAtHeight = _interopRequireDefault(require(\"../block/sliceAtHeight\"));\n/**\n * Layout paragraphs inside container until it does not\n * fit anymore, performing line wrapping in the process.\n *\n * @param  {Object}  engines\n * @param  {Object}  layout options\n * @param  {Object}  container rect\n * @param  {Object}  attributed strings (paragraphs)\n * @return {Array} paragraph blocks\n */\n\n\nvar typesetter = function typesetter(engines, options, container, attributedStrings) {\n  var blocks = [];\n  var paragraphs = [].concat(attributedStrings);\n  var layoutBlock = (0, _layoutParagraph.default)(engines, options);\n  var maxLines = R.propOr(Infinity, 'maxLines', container);\n  var truncateEllipsis = container.truncateMode === 'ellipsis';\n  var linesCount = maxLines;\n  var paragraphRect = (0, _copy.default)(container);\n  var nextParagraph = paragraphs.shift();\n\n  while (linesCount > 0 && nextParagraph) {\n    var block = layoutBlock(paragraphRect, nextParagraph);\n    var slicedBlock = (0, _slice.default)(linesCount, block);\n    var linesHeight = (0, _height.default)(slicedBlock);\n    var shouldTruncate = truncateEllipsis && block.length !== slicedBlock.length;\n    linesCount -= slicedBlock.length;\n\n    if (paragraphRect.height >= linesHeight) {\n      blocks.push(R.when(R.always(shouldTruncate), _truncate.default)(slicedBlock));\n      paragraphRect = (0, _crop.default)(linesHeight, paragraphRect);\n      nextParagraph = paragraphs.shift();\n    } else {\n      blocks.push(R.compose(_truncate.default, (0, _sliceAtHeight.default)(paragraphRect.height))(slicedBlock));\n      break;\n    }\n  }\n\n  return blocks;\n};\n\nvar _default = R.curryN(4, typesetter);\n\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","_interopRequireWildcard","exports","__esModule","R","_copy","_crop","_slice","_height","_truncate","_layoutParagraph","_sliceAtHeight","typesetter","engines","options","container","attributedStrings","blocks","paragraphs","concat","layoutBlock","maxLines","propOr","Infinity","truncateEllipsis","truncateMode","linesCount","paragraphRect","nextParagraph","shift","block","slicedBlock","linesHeight","shouldTruncate","length","height","push","when","always","compose","_default","curryN"],"sources":["/home/carlobottaro/Documents/UniversitÃ /gamification/node_modules/@react-pdf/textkit/lib/layout/typesetter.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _copy = _interopRequireDefault(require(\"../rect/copy\"));\n\nvar _crop = _interopRequireDefault(require(\"../rect/crop\"));\n\nvar _slice = _interopRequireDefault(require(\"../block/slice\"));\n\nvar _height = _interopRequireDefault(require(\"../block/height\"));\n\nvar _truncate = _interopRequireDefault(require(\"../block/truncate\"));\n\nvar _layoutParagraph = _interopRequireDefault(require(\"./layoutParagraph\"));\n\nvar _sliceAtHeight = _interopRequireDefault(require(\"../block/sliceAtHeight\"));\n\n/**\n * Layout paragraphs inside container until it does not\n * fit anymore, performing line wrapping in the process.\n *\n * @param  {Object}  engines\n * @param  {Object}  layout options\n * @param  {Object}  container rect\n * @param  {Object}  attributed strings (paragraphs)\n * @return {Array} paragraph blocks\n */\nvar typesetter = function typesetter(engines, options, container, attributedStrings) {\n  var blocks = [];\n  var paragraphs = [].concat(attributedStrings);\n  var layoutBlock = (0, _layoutParagraph.default)(engines, options);\n  var maxLines = R.propOr(Infinity, 'maxLines', container);\n  var truncateEllipsis = container.truncateMode === 'ellipsis';\n  var linesCount = maxLines;\n  var paragraphRect = (0, _copy.default)(container);\n  var nextParagraph = paragraphs.shift();\n\n  while (linesCount > 0 && nextParagraph) {\n    var block = layoutBlock(paragraphRect, nextParagraph);\n    var slicedBlock = (0, _slice.default)(linesCount, block);\n    var linesHeight = (0, _height.default)(slicedBlock);\n    var shouldTruncate = truncateEllipsis && block.length !== slicedBlock.length;\n    linesCount -= slicedBlock.length;\n\n    if (paragraphRect.height >= linesHeight) {\n      blocks.push(R.when(R.always(shouldTruncate), _truncate.default)(slicedBlock));\n      paragraphRect = (0, _crop.default)(linesHeight, paragraphRect);\n      nextParagraph = paragraphs.shift();\n    } else {\n      blocks.push(R.compose(_truncate.default, (0, _sliceAtHeight.default)(paragraphRect.height))(slicedBlock));\n      break;\n    }\n  }\n\n  return blocks;\n};\n\nvar _default = R.curryN(4, typesetter);\n\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}