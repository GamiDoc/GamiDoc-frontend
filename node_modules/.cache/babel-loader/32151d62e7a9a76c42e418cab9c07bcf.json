{"ast":null,"code":"\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer; // NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\n\n\nmodule.exports = function (stream_module) {\n  var Transform = stream_module.Transform; // == Encoder stream =======================================================\n\n  function IconvLiteEncoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n\n    Transform.call(this, options);\n  }\n\n  IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: {\n      value: IconvLiteEncoderStream\n    }\n  });\n\n  IconvLiteEncoderStream.prototype._transform = function (chunk, encoding, done) {\n    if (typeof chunk != 'string') return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n\n    try {\n      var res = this.conv.write(chunk);\n      if (res && res.length) this.push(res);\n      done();\n    } catch (e) {\n      done(e);\n    }\n  };\n\n  IconvLiteEncoderStream.prototype._flush = function (done) {\n    try {\n      var res = this.conv.end();\n      if (res && res.length) this.push(res);\n      done();\n    } catch (e) {\n      done(e);\n    }\n  };\n\n  IconvLiteEncoderStream.prototype.collect = function (cb) {\n    var chunks = [];\n    this.on('error', cb);\n    this.on('data', function (chunk) {\n      chunks.push(chunk);\n    });\n    this.on('end', function () {\n      cb(null, Buffer.concat(chunks));\n    });\n    return this;\n  }; // == Decoder stream =======================================================\n\n\n  function IconvLiteDecoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.encoding = this.encoding = 'utf8'; // We output strings.\n\n    Transform.call(this, options);\n  }\n\n  IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: {\n      value: IconvLiteDecoderStream\n    }\n  });\n\n  IconvLiteDecoderStream.prototype._transform = function (chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array)) return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n\n    try {\n      var res = this.conv.write(chunk);\n      if (res && res.length) this.push(res, this.encoding);\n      done();\n    } catch (e) {\n      done(e);\n    }\n  };\n\n  IconvLiteDecoderStream.prototype._flush = function (done) {\n    try {\n      var res = this.conv.end();\n      if (res && res.length) this.push(res, this.encoding);\n      done();\n    } catch (e) {\n      done(e);\n    }\n  };\n\n  IconvLiteDecoderStream.prototype.collect = function (cb) {\n    var res = '';\n    this.on('error', cb);\n    this.on('data', function (chunk) {\n      res += chunk;\n    });\n    this.on('end', function () {\n      cb(null, res);\n    });\n    return this;\n  };\n\n  return {\n    IconvLiteEncoderStream: IconvLiteEncoderStream,\n    IconvLiteDecoderStream: IconvLiteDecoderStream\n  };\n};","map":{"version":3,"names":["Buffer","require","module","exports","stream_module","Transform","IconvLiteEncoderStream","conv","options","decodeStrings","call","prototype","Object","create","constructor","value","_transform","chunk","encoding","done","Error","res","write","length","push","e","_flush","end","collect","cb","chunks","on","concat","IconvLiteDecoderStream","isBuffer","Uint8Array"],"sources":["/home/carlobottaro/Documents/Universit√†/gamification/node_modules/iconv-lite/lib/streams.js"],"sourcesContent":["\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}