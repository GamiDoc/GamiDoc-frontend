{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _omit = _interopRequireDefault(require(\"../run/omit\"));\n\nvar _height = _interopRequireDefault(require(\"../attributedString/height\"));\n\nvar ATTACHMENT_CODE = \"\\uFFFC\"; // 65532\n\n/**\n * Remove attachment attribute if no char present\n *\n * @param  {Object} attributed string\n * @return {Object} attributed string\n */\n\nvar purgeAttachments = R.when(R.compose(R.not, R.includes(ATTACHMENT_CODE), R.prop('string')), R.evolve({\n  runs: R.map((0, _omit.default)('attachment'))\n}));\n/**\n * Layout paragraphs inside rectangle\n *\n * @param  {Object} rect\n * @param  {Array} attributed strings\n * @return {Object} layout blocks\n */\n\nvar layoutLines = function layoutLines(rect, lines, indent) {\n  var currentY = rect.y;\n  return R.addIndex(R.map)(R.compose(purgeAttachments, function (line, i) {\n    var lineIndent = i === 0 ? indent : 0;\n    var style = R.pathOr({}, ['runs', 0, 'attributes'], line);\n    var height = Math.max((0, _height.default)(line), style.lineHeight);\n    var box = {\n      x: rect.x + lineIndent,\n      y: currentY,\n      width: rect.width - lineIndent,\n      height: height\n    };\n    currentY += height;\n    return R.compose(R.assoc('box', box), R.omit(['syllables']))(line);\n  }))(lines);\n};\n/**\n * Performs line breaking and layout\n *\n * @param  {Object} engines\n * @param  {Object}  layout options\n * @param  {Object} rect\n * @param  {Object} attributed string\n * @return {Object} layout block\n */\n\n\nvar layoutParagraph = function layoutParagraph(engines, options) {\n  return function (rect, paragraph) {\n    var indent = R.pathOr(0, ['runs', 0, 'attributes', 'indent'], paragraph);\n    var lines = engines.linebreaker(options)(paragraph, [rect.width - indent, rect.width]);\n    var lineFragments = layoutLines(rect, lines, indent);\n    return lineFragments;\n  };\n};\n\nvar _default = layoutParagraph;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","_interopRequireWildcard","exports","__esModule","R","_omit","_height","ATTACHMENT_CODE","purgeAttachments","when","compose","not","includes","prop","evolve","runs","map","layoutLines","rect","lines","indent","currentY","y","addIndex","line","i","lineIndent","style","pathOr","height","Math","max","lineHeight","box","x","width","assoc","omit","layoutParagraph","engines","options","paragraph","linebreaker","lineFragments","_default"],"sources":["/home/carlobottaro/Documents/Universit√†/gamification/node_modules/@react-pdf/textkit/lib/layout/layoutParagraph.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _omit = _interopRequireDefault(require(\"../run/omit\"));\n\nvar _height = _interopRequireDefault(require(\"../attributedString/height\"));\n\nvar ATTACHMENT_CODE = \"\\uFFFC\"; // 65532\n\n/**\n * Remove attachment attribute if no char present\n *\n * @param  {Object} attributed string\n * @return {Object} attributed string\n */\n\nvar purgeAttachments = R.when(R.compose(R.not, R.includes(ATTACHMENT_CODE), R.prop('string')), R.evolve({\n  runs: R.map((0, _omit.default)('attachment'))\n}));\n/**\n * Layout paragraphs inside rectangle\n *\n * @param  {Object} rect\n * @param  {Array} attributed strings\n * @return {Object} layout blocks\n */\n\nvar layoutLines = function layoutLines(rect, lines, indent) {\n  var currentY = rect.y;\n  return R.addIndex(R.map)(R.compose(purgeAttachments, function (line, i) {\n    var lineIndent = i === 0 ? indent : 0;\n    var style = R.pathOr({}, ['runs', 0, 'attributes'], line);\n    var height = Math.max((0, _height.default)(line), style.lineHeight);\n    var box = {\n      x: rect.x + lineIndent,\n      y: currentY,\n      width: rect.width - lineIndent,\n      height: height\n    };\n    currentY += height;\n    return R.compose(R.assoc('box', box), R.omit(['syllables']))(line);\n  }))(lines);\n};\n/**\n * Performs line breaking and layout\n *\n * @param  {Object} engines\n * @param  {Object}  layout options\n * @param  {Object} rect\n * @param  {Object} attributed string\n * @return {Object} layout block\n */\n\n\nvar layoutParagraph = function layoutParagraph(engines, options) {\n  return function (rect, paragraph) {\n    var indent = R.pathOr(0, ['runs', 0, 'attributes', 'indent'], paragraph);\n    var lines = engines.linebreaker(options)(paragraph, [rect.width - indent, rect.width]);\n    var lineFragments = layoutLines(rect, lines, indent);\n    return lineFragments;\n  };\n};\n\nvar _default = layoutParagraph;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}