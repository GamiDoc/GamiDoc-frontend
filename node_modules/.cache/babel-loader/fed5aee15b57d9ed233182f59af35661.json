{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _advanceWidth = _interopRequireDefault(require(\"@react-pdf/textkit/lib/run/advanceWidth\"));\n\nvar _advanceWidth2 = _interopRequireDefault(require(\"@react-pdf/textkit/lib/attributedString/advanceWidth\"));\n\nvar _renderGlyphs = _interopRequireDefault(require(\"./renderGlyphs\"));\n\nvar renderRun = function renderRun(ctx, run) {\n  var runAdvanceWidth = (0, _advanceWidth.default)(run);\n  var _run$attributes = run.attributes,\n      font = _run$attributes.font,\n      fontSize = _run$attributes.fontSize,\n      color = _run$attributes.color,\n      opacity = _run$attributes.opacity;\n  ctx.fillColor(color);\n  ctx.fillOpacity(opacity);\n\n  if (font.sbix || font.COLR && font.CPAL) {\n    ctx.save();\n    ctx.translate(0, -run.ascent);\n\n    for (var i = 0; i < run.glyphs.length; i += 1) {\n      var position = run.positions[i];\n      var glyph = run.glyphs[i];\n      ctx.save();\n      ctx.translate(position.xOffset, position.yOffset);\n      glyph.render(ctx, fontSize);\n      ctx.restore();\n      ctx.translate(position.xAdvance, position.yAdvance);\n    }\n\n    ctx.restore();\n  } else {\n    ctx.font(typeof font.name === 'string' ? font.name : font, fontSize);\n\n    try {\n      (0, _renderGlyphs.default)(ctx, run.glyphs, run.positions, 0, 0);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ctx.translate(runAdvanceWidth, 0);\n};\n\nvar renderSpan = function renderSpan(ctx, line, textAnchor, dominantBaseline) {\n  ctx.save();\n  var x = R.pathOr(0, ['box', 'x'], line);\n  var y = R.pathOr(0, ['box', 'y'], line);\n  var font = R.pathOr(1, ['runs', 0, 'attributes', 'font'], line);\n  var scale = R.pathOr(1, ['runs', 0, 'attributes', 'scale'], line);\n  var width = (0, _advanceWidth2.default)(line);\n  var ascent = font.ascent * scale;\n  var xHeight = font.xHeight * scale;\n  var descent = font.descent * scale;\n  var capHeight = font.capHeight * scale;\n  var xTranslate = x;\n  var yTranslate = y;\n\n  switch (textAnchor) {\n    case 'middle':\n      xTranslate = x - width / 2;\n      break;\n\n    case 'end':\n      xTranslate = x - width;\n      break;\n\n    default:\n      xTranslate = x;\n      break;\n  }\n\n  switch (dominantBaseline) {\n    case 'middle':\n    case 'central':\n      yTranslate = y + capHeight / 2;\n      break;\n\n    case 'hanging':\n      yTranslate = y + capHeight;\n      break;\n\n    case 'mathematical':\n      yTranslate = y + xHeight;\n      break;\n\n    case 'text-after-edge':\n      yTranslate = y + descent;\n      break;\n\n    case 'text-before-edge':\n      yTranslate = y + ascent;\n      break;\n\n    default:\n      yTranslate = y;\n      break;\n  }\n\n  ctx.translate(xTranslate, yTranslate);\n  line.runs.forEach(function (run) {\n    return renderRun(ctx, run);\n  });\n  ctx.restore();\n};\n\nvar renderSvgText = function renderSvgText(ctx) {\n  return function (node) {\n    node.children.forEach(function (span) {\n      return renderSpan(ctx, span.lines[0], span.props.textAnchor, span.props.dominantBaseline);\n    });\n    return node;\n  };\n};\n\nvar _default = renderSvgText;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","_interopRequireWildcard","exports","__esModule","R","_advanceWidth","_advanceWidth2","_renderGlyphs","renderRun","ctx","run","runAdvanceWidth","_run$attributes","attributes","font","fontSize","color","opacity","fillColor","fillOpacity","sbix","COLR","CPAL","save","translate","ascent","i","glyphs","length","position","positions","glyph","xOffset","yOffset","render","restore","xAdvance","yAdvance","name","error","console","log","renderSpan","line","textAnchor","dominantBaseline","x","pathOr","y","scale","width","xHeight","descent","capHeight","xTranslate","yTranslate","runs","forEach","renderSvgText","node","children","span","lines","props","_default"],"sources":["/home/carlobottaro/Documents/UniversitÃ /gamification/node_modules/@react-pdf/render/lib/primitives/renderSvgText.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _advanceWidth = _interopRequireDefault(require(\"@react-pdf/textkit/lib/run/advanceWidth\"));\n\nvar _advanceWidth2 = _interopRequireDefault(require(\"@react-pdf/textkit/lib/attributedString/advanceWidth\"));\n\nvar _renderGlyphs = _interopRequireDefault(require(\"./renderGlyphs\"));\n\nvar renderRun = function renderRun(ctx, run) {\n  var runAdvanceWidth = (0, _advanceWidth.default)(run);\n  var _run$attributes = run.attributes,\n      font = _run$attributes.font,\n      fontSize = _run$attributes.fontSize,\n      color = _run$attributes.color,\n      opacity = _run$attributes.opacity;\n  ctx.fillColor(color);\n  ctx.fillOpacity(opacity);\n\n  if (font.sbix || font.COLR && font.CPAL) {\n    ctx.save();\n    ctx.translate(0, -run.ascent);\n\n    for (var i = 0; i < run.glyphs.length; i += 1) {\n      var position = run.positions[i];\n      var glyph = run.glyphs[i];\n      ctx.save();\n      ctx.translate(position.xOffset, position.yOffset);\n      glyph.render(ctx, fontSize);\n      ctx.restore();\n      ctx.translate(position.xAdvance, position.yAdvance);\n    }\n\n    ctx.restore();\n  } else {\n    ctx.font(typeof font.name === 'string' ? font.name : font, fontSize);\n\n    try {\n      (0, _renderGlyphs.default)(ctx, run.glyphs, run.positions, 0, 0);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ctx.translate(runAdvanceWidth, 0);\n};\n\nvar renderSpan = function renderSpan(ctx, line, textAnchor, dominantBaseline) {\n  ctx.save();\n  var x = R.pathOr(0, ['box', 'x'], line);\n  var y = R.pathOr(0, ['box', 'y'], line);\n  var font = R.pathOr(1, ['runs', 0, 'attributes', 'font'], line);\n  var scale = R.pathOr(1, ['runs', 0, 'attributes', 'scale'], line);\n  var width = (0, _advanceWidth2.default)(line);\n  var ascent = font.ascent * scale;\n  var xHeight = font.xHeight * scale;\n  var descent = font.descent * scale;\n  var capHeight = font.capHeight * scale;\n  var xTranslate = x;\n  var yTranslate = y;\n\n  switch (textAnchor) {\n    case 'middle':\n      xTranslate = x - width / 2;\n      break;\n\n    case 'end':\n      xTranslate = x - width;\n      break;\n\n    default:\n      xTranslate = x;\n      break;\n  }\n\n  switch (dominantBaseline) {\n    case 'middle':\n    case 'central':\n      yTranslate = y + capHeight / 2;\n      break;\n\n    case 'hanging':\n      yTranslate = y + capHeight;\n      break;\n\n    case 'mathematical':\n      yTranslate = y + xHeight;\n      break;\n\n    case 'text-after-edge':\n      yTranslate = y + descent;\n      break;\n\n    case 'text-before-edge':\n      yTranslate = y + ascent;\n      break;\n\n    default:\n      yTranslate = y;\n      break;\n  }\n\n  ctx.translate(xTranslate, yTranslate);\n  line.runs.forEach(function (run) {\n    return renderRun(ctx, run);\n  });\n  ctx.restore();\n};\n\nvar renderSvgText = function renderSvgText(ctx) {\n  return function (node) {\n    node.children.forEach(function (span) {\n      return renderSpan(ctx, span.lines[0], span.props.textAnchor, span.props.dominantBaseline);\n    });\n    return node;\n  };\n};\n\nvar _default = renderSvgText;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}