{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n(function () {\n  var NumberT, StringT, utils;\n  NumberT = require('./Number').Number;\n  utils = require('./utils');\n\n  StringT = function () {\n    function StringT(length, encoding) {\n      this.length = length;\n      this.encoding = encoding != null ? encoding : 'ascii';\n    }\n\n    StringT.prototype.decode = function (stream, parent) {\n      var buffer, encoding, length, pos, string;\n\n      length = function () {\n        if (this.length != null) {\n          return utils.resolveLength(this.length, stream, parent);\n        } else {\n          buffer = stream.buffer, length = stream.length, pos = stream.pos;\n\n          while (pos < length && buffer[pos] !== 0x00) {\n            ++pos;\n          }\n\n          return pos - stream.pos;\n        }\n      }.call(this);\n\n      encoding = this.encoding;\n\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent, parent) || 'ascii';\n      }\n\n      string = stream.readString(length, encoding);\n\n      if (this.length == null && stream.pos < stream.length) {\n        stream.pos++;\n      }\n\n      return string;\n    };\n\n    StringT.prototype.size = function (val, parent) {\n      var encoding, size;\n\n      if (!val) {\n        return utils.resolveLength(this.length, null, parent);\n      }\n\n      encoding = this.encoding;\n\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent != null ? parent.val : void 0, parent != null ? parent.val : void 0) || 'ascii';\n      }\n\n      if (encoding === 'utf16be') {\n        encoding = 'utf16le';\n      }\n\n      size = Buffer.byteLength(val, encoding);\n\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n      }\n\n      if (this.length == null) {\n        size++;\n      }\n\n      return size;\n    };\n\n    StringT.prototype.encode = function (stream, val, parent) {\n      var encoding;\n      encoding = this.encoding;\n\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent != null ? parent.val : void 0, parent != null ? parent.val : void 0) || 'ascii';\n      }\n\n      if (this.length instanceof NumberT) {\n        this.length.encode(stream, Buffer.byteLength(val, encoding));\n      }\n\n      stream.writeString(val, encoding);\n\n      if (this.length == null) {\n        return stream.writeUInt8(0x00);\n      }\n    };\n\n    return StringT;\n  }();\n\n  module.exports = StringT;\n}).call(this);","map":{"version":3,"names":["NumberT","StringT","utils","require","Number","length","encoding","prototype","decode","stream","parent","buffer","pos","string","resolveLength","call","readString","size","val","Buffer","byteLength","encode","writeString","writeUInt8","module","exports"],"sources":["/home/carlobottaro/Documents/UniversitÃ /gamification/node_modules/restructure/src/String.js"],"sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var NumberT, StringT, utils;\n\n  NumberT = require('./Number').Number;\n\n  utils = require('./utils');\n\n  StringT = (function() {\n    function StringT(length, encoding) {\n      this.length = length;\n      this.encoding = encoding != null ? encoding : 'ascii';\n    }\n\n    StringT.prototype.decode = function(stream, parent) {\n      var buffer, encoding, length, pos, string;\n      length = (function() {\n        if (this.length != null) {\n          return utils.resolveLength(this.length, stream, parent);\n        } else {\n          buffer = stream.buffer, length = stream.length, pos = stream.pos;\n          while (pos < length && buffer[pos] !== 0x00) {\n            ++pos;\n          }\n          return pos - stream.pos;\n        }\n      }).call(this);\n      encoding = this.encoding;\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent, parent) || 'ascii';\n      }\n      string = stream.readString(length, encoding);\n      if ((this.length == null) && stream.pos < stream.length) {\n        stream.pos++;\n      }\n      return string;\n    };\n\n    StringT.prototype.size = function(val, parent) {\n      var encoding, size;\n      if (!val) {\n        return utils.resolveLength(this.length, null, parent);\n      }\n      encoding = this.encoding;\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent != null ? parent.val : void 0, parent != null ? parent.val : void 0) || 'ascii';\n      }\n      if (encoding === 'utf16be') {\n        encoding = 'utf16le';\n      }\n      size = Buffer.byteLength(val, encoding);\n      if (this.length instanceof NumberT) {\n        size += this.length.size();\n      }\n      if (this.length == null) {\n        size++;\n      }\n      return size;\n    };\n\n    StringT.prototype.encode = function(stream, val, parent) {\n      var encoding;\n      encoding = this.encoding;\n      if (typeof encoding === 'function') {\n        encoding = encoding.call(parent != null ? parent.val : void 0, parent != null ? parent.val : void 0) || 'ascii';\n      }\n      if (this.length instanceof NumberT) {\n        this.length.encode(stream, Buffer.byteLength(val, encoding));\n      }\n      stream.writeString(val, encoding);\n      if (this.length == null) {\n        return stream.writeUInt8(0x00);\n      }\n    };\n\n    return StringT;\n\n  })();\n\n  module.exports = StringT;\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}