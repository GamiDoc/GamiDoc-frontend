{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n(function () {\n  var Struct, utils;\n  utils = require('./utils');\n\n  Struct = function () {\n    function Struct(fields) {\n      this.fields = fields != null ? fields : {};\n    }\n\n    Struct.prototype.decode = function (stream, parent, length) {\n      var res, _ref;\n\n      if (length == null) {\n        length = 0;\n      }\n\n      res = this._setup(stream, parent, length);\n\n      this._parseFields(stream, res, this.fields);\n\n      if ((_ref = this.process) != null) {\n        _ref.call(res, stream);\n      }\n\n      return res;\n    };\n\n    Struct.prototype._setup = function (stream, parent, length) {\n      var res;\n      res = {};\n      Object.defineProperties(res, {\n        parent: {\n          value: parent\n        },\n        _startOffset: {\n          value: stream.pos\n        },\n        _currentOffset: {\n          value: 0,\n          writable: true\n        },\n        _length: {\n          value: length\n        }\n      });\n      return res;\n    };\n\n    Struct.prototype._parseFields = function (stream, res, fields) {\n      var key, type, val;\n\n      for (key in fields) {\n        type = fields[key];\n\n        if (typeof type === 'function') {\n          val = type.call(res, res);\n        } else {\n          val = type.decode(stream, res);\n        }\n\n        if (val !== void 0) {\n          if (val instanceof utils.PropertyDescriptor) {\n            Object.defineProperty(res, key, val);\n          } else {\n            res[key] = val;\n          }\n        }\n\n        res._currentOffset = stream.pos - res._startOffset;\n      }\n    };\n\n    Struct.prototype.size = function (val, parent, includePointers) {\n      var ctx, key, size, type, _ref;\n\n      if (val == null) {\n        val = {};\n      }\n\n      if (includePointers == null) {\n        includePointers = true;\n      }\n\n      ctx = {\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      size = 0;\n      _ref = this.fields;\n\n      for (key in _ref) {\n        type = _ref[key];\n\n        if (type.size != null) {\n          size += type.size(val[key], ctx);\n        }\n      }\n\n      if (includePointers) {\n        size += ctx.pointerSize;\n      }\n\n      return size;\n    };\n\n    Struct.prototype.encode = function (stream, val, parent) {\n      var ctx, i, key, ptr, type, _ref, _ref1;\n\n      if ((_ref = this.preEncode) != null) {\n        _ref.call(val, stream);\n      }\n\n      ctx = {\n        pointers: [],\n        startOffset: stream.pos,\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      ctx.pointerOffset = stream.pos + this.size(val, ctx, false);\n      _ref1 = this.fields;\n\n      for (key in _ref1) {\n        type = _ref1[key];\n\n        if (type.encode != null) {\n          type.encode(stream, val[key], ctx);\n        }\n      }\n\n      i = 0;\n\n      while (i < ctx.pointers.length) {\n        ptr = ctx.pointers[i++];\n        ptr.type.encode(stream, ptr.val, ptr.parent);\n      }\n    };\n\n    return Struct;\n  }();\n\n  module.exports = Struct;\n}).call(this);","map":{"version":3,"names":["Struct","utils","require","fields","prototype","decode","stream","parent","length","res","_ref","_setup","_parseFields","process","call","Object","defineProperties","value","_startOffset","pos","_currentOffset","writable","_length","key","type","val","PropertyDescriptor","defineProperty","size","includePointers","ctx","pointerSize","encode","i","ptr","_ref1","preEncode","pointers","startOffset","pointerOffset","module","exports"],"sources":["/home/carlobottaro/Documents/UniversitÃ /gamification/node_modules/restructure/src/Struct.js"],"sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var Struct, utils;\n\n  utils = require('./utils');\n\n  Struct = (function() {\n    function Struct(fields) {\n      this.fields = fields != null ? fields : {};\n    }\n\n    Struct.prototype.decode = function(stream, parent, length) {\n      var res, _ref;\n      if (length == null) {\n        length = 0;\n      }\n      res = this._setup(stream, parent, length);\n      this._parseFields(stream, res, this.fields);\n      if ((_ref = this.process) != null) {\n        _ref.call(res, stream);\n      }\n      return res;\n    };\n\n    Struct.prototype._setup = function(stream, parent, length) {\n      var res;\n      res = {};\n      Object.defineProperties(res, {\n        parent: {\n          value: parent\n        },\n        _startOffset: {\n          value: stream.pos\n        },\n        _currentOffset: {\n          value: 0,\n          writable: true\n        },\n        _length: {\n          value: length\n        }\n      });\n      return res;\n    };\n\n    Struct.prototype._parseFields = function(stream, res, fields) {\n      var key, type, val;\n      for (key in fields) {\n        type = fields[key];\n        if (typeof type === 'function') {\n          val = type.call(res, res);\n        } else {\n          val = type.decode(stream, res);\n        }\n        if (val !== void 0) {\n          if (val instanceof utils.PropertyDescriptor) {\n            Object.defineProperty(res, key, val);\n          } else {\n            res[key] = val;\n          }\n        }\n        res._currentOffset = stream.pos - res._startOffset;\n      }\n    };\n\n    Struct.prototype.size = function(val, parent, includePointers) {\n      var ctx, key, size, type, _ref;\n      if (val == null) {\n        val = {};\n      }\n      if (includePointers == null) {\n        includePointers = true;\n      }\n      ctx = {\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      size = 0;\n      _ref = this.fields;\n      for (key in _ref) {\n        type = _ref[key];\n        if (type.size != null) {\n          size += type.size(val[key], ctx);\n        }\n      }\n      if (includePointers) {\n        size += ctx.pointerSize;\n      }\n      return size;\n    };\n\n    Struct.prototype.encode = function(stream, val, parent) {\n      var ctx, i, key, ptr, type, _ref, _ref1;\n      if ((_ref = this.preEncode) != null) {\n        _ref.call(val, stream);\n      }\n      ctx = {\n        pointers: [],\n        startOffset: stream.pos,\n        parent: parent,\n        val: val,\n        pointerSize: 0\n      };\n      ctx.pointerOffset = stream.pos + this.size(val, ctx, false);\n      _ref1 = this.fields;\n      for (key in _ref1) {\n        type = _ref1[key];\n        if (type.encode != null) {\n          type.encode(stream, val[key], ctx);\n        }\n      }\n      i = 0;\n      while (i < ctx.pointers.length) {\n        ptr = ctx.pointers[i++];\n        ptr.type.encode(stream, ptr.val, ptr.parent);\n      }\n    };\n\n    return Struct;\n\n  })();\n\n  module.exports = Struct;\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}